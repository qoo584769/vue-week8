{"version":3,"sources":["webpack:///./src/views/front/order.vue","webpack:///./src/views/front/order.vue?5d54","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/front/order.vue?7260"],"names":["class","for","type","Checkout","errors","id","name","placeholder","rules","UserData","data","user","email","ValidateTel","tel","address","message","setup","CartListData","router","GetCart","a","get","then","res","success","alert","catch","err","carts","length","post","push","path","orderId","value","test","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","this","match","error"],"mappings":"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","file":"js/chunk-721beae0.849679c3.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <VForm v-slot=\"{ errors }\" @submit=\"Checkout\">\n\n        <label for=\"name\">姓名</label>\n        <VField id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入 姓名\" rules=\"required\"\n          v-model=\"UserData.data.user.name\"></VField>\n        <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n\n        <label for=\"email\">Email</label>\n        <VField id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\"\n          v-model=\"UserData.data.user.email\"></VField>\n        <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n\n        <label for=\"tel\">電話</label>\n        <VField id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入 電話\" :rules=\"ValidateTel\"\n          v-model=\"UserData.data.user.tel\"></VField>\n        <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n\n        <label for=\"address\">地址</label>\n        <VField id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n          :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入 地址\" rules=\"required\"\n          v-model=\"UserData.data.user.address\"></VField>\n        <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n\n        <p>\n          <label for=\"message\">備註</label>\n          <textarea id=\"message\" v-model=\"UserData.data.message\"></textarea>\n        </p>\n\n        <button type=\"submit\" class=\"btn btn-primary\">\n          <i class=\"fas fa-spinner fa-pulse\"></i>\n          結帳\n        </button>\n\n      </VForm>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  reactive,\n} from '@vue/reactivity';\nimport {\n  onMounted,\n} from '@vue/runtime-core';\nimport axios from 'axios';\nimport {\n  useRouter,\n} from 'vue-router';\n\nexport default {\n  setup() {\n    const CartListData = reactive({\n      data: {},\n    });\n      // 結帳的收件者資料\n    const UserData = reactive({\n      data: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    });\n\n    const router = useRouter();\n    // 取得購物車清單\n    const GetCart = () => {\n      axios.get(`${process.env.VUE_APP_ALL_APIPATH}/cart`)\n        .then((res) => {\n          if (res.data.success) {\n            CartListData.data = res.data.data;\n          } else {\n            alert(res.data.message);\n          }\n        })\n        .catch((err) => {\n          alert(err.message);\n        });\n    };\n      // 結帳付款\n    const Checkout = () => {\n      if (CartListData.data.carts.length !== 0) {\n        axios.post(`${process.env.VUE_APP_ALL_APIPATH}/order`, UserData)\n          .then((res) => {\n            if (res.data.success) {\n              alert(res.data.message);\n              router.push({ path: `/order/${res.data.orderId}` });\n            }\n            alert(res.data.message);\n          })\n          .catch((err) => {\n            alert(err.message);\n          });\n      } else {\n        alert('購物車無商品');\n      }\n    };\n\n    // 驗證手機的函式\n    const ValidateTel = (value) => {\n      if (!value) {\n        return '電話號碼為必填';\n      }\n      if (!/^09\\d{8}$/.test(value)) {\n        return '電話號碼格式錯誤';\n      }\n      return true;\n    };\n    onMounted(() => {\n      GetCart();\n    });\n    return {\n      UserData,\n      CartListData,\n      Checkout,\n      ValidateTel,\n    };\n  },\n\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '../../assets/_dashboard.scss';\n\n  * {\n    margin: 0;\n    padding: 0;\n    text-decoration: none;\n    list-style: none;\n  }\n\n</style>\n","import { render } from \"./order.vue?vue&type=template&id=25b92544&scoped=true\"\nimport script from \"./order.vue?vue&type=script&lang=js\"\nexport * from \"./order.vue?vue&type=script&lang=js\"\n\nimport \"./order.vue?vue&type=style&index=0&id=25b92544&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-25b92544\"\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./order.vue?vue&type=style&index=0&id=25b92544&lang=scss&scoped=true\""],"sourceRoot":""}